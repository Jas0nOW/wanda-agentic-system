# ==============================================================================
# WANDA Agent Configuration Template v1.0.5
# ==============================================================================
# 7-Layer Architecture | 7 Primary Agents + 11 Sub-Agents = 18 Total
# This is a TEMPLATE - copy to config/agents.yaml and customize
# ==============================================================================

version: "1.0.5"
system:
  name: "WANDA"
  description: "Workspace-Aware Neural Development Assistant"
  operator: "{{USER_NAME}}"
  language: "{{USER_LANGUAGE}}"
  workspace: "{{USER_WORKSPACE}}"

# ==============================================================================
# 7 LAYERS (Workflow Phases)
# ==============================================================================
layers:
  - id: 1
    name: "Brainstorming"
    description: "Ideation, Creativity, Exploration"
  - id: 2
    name: "Planning"
    description: "Strategy, Task Distribution, Orchestration"
  - id: 3
    name: "Architecture"
    description: "Project Setup, Structure, SSOT, Implementation"
  - id: 4
    name: "Research"
    description: "Knowledge Management, Documentation, Writing"
  - id: 5
    name: "Deep Research"
    description: "Codebase Analysis, Pattern Finding, Navigation"
  - id: 6
    name: "Continuity"
    description: "Session State, Context Preservation"
  - id: 7
    name: "Meta"
    description: "Pre-planning, Quality Gates, System Oversight"

# ==============================================================================
# PRIMARY AGENTS (7) - User-selectable via @mention
# ==============================================================================
primary_agents:

  orchestrator:
    name: "Orchestrator"
    role: "Main Controller"
    layer: 2
    type: "PRIMARY"
    trigger: "always_active"
    description: "Controls all agents, routes tasks, manages workflow"
    model: "{{ORCHESTRATOR_MODEL}}"
    fallback: "{{ORCHESTRATOR_FALLBACK}}"
    skills:
      - prompt-engineering-sota
    prompt_file: "prompts/agents/orchestrator.md"
    controls_subagents:
      - metis
      - momus
      - ledger_creator

  brainstormer:
    name: "Brainstormer"
    role: "Ideation"
    layer: 1
    type: "PRIMARY+SUB"
    trigger: "@brainstormer"
    description: "Creative exploration, no code generation, pure ideation"
    model: "{{BRAINSTORMER_MODEL}}"
    fallback: "{{BRAINSTORMER_FALLBACK}}"
    skills:
      - prompt-engineering-sota
    prompt_file: "prompts/agents/brainstormer.md"

  architect:
    name: "Architect"
    role: "Architect"
    layer: 3
    type: "PRIMARY+SUB"
    trigger: "@architect"
    description: "Prepares projects with structure, docs, README, SSOT"
    model: "{{ARCHITECT_MODEL}}"
    fallback: "{{ARCHITECT_FALLBACK}}"
    skills:
      - nextjs-architecture
      - api-design-restful
      - database-patterns
    prompt_file: "prompts/agents/architect.md"
    controls_subagents:
      - codebase_analyzer

  developer:
    name: "Developer"
    role: "Developer"
    layer: 3
    type: "PRIMARY+SUB"
    trigger: "@dev"
    description: "Implementation, Frontend + Backend code"
    model: "{{DEVELOPER_MODEL}}"
    fallback: "{{DEVELOPER_FALLBACK}}"
    skills:
      - react-best-practices-2026
      - tailwind-shadcn-mastery
      - typescript-strict
      - database-patterns
    prompt_file: "prompts/agents/developer.md"
    controls_subagents:
      - frontend_ui_ux
      - multimodal_looker

  audit:
    name: "Audit"
    role: "Auditor"
    layer: 3
    type: "PRIMARY+SUB"
    trigger: "@audit"
    description: "Code review, safety, bugs, edge cases"
    model: "{{AUDIT_MODEL}}"
    fallback: "{{AUDIT_FALLBACK}}"
    skills:
      - security-owasp-2026
      - performance-core-vitals
      - testing-vitest-playwright
    prompt_file: "prompts/agents/audit.md"
    controls_subagents:
      - pattern_finder

  librarian:
    name: "Librarian"
    role: "Research"
    layer: 4
    type: "PRIMARY+SUB"
    trigger: "@librarian"
    description: "Research, documentation lookup, knowledge management"
    model: "{{LIBRARIAN_MODEL}}"
    fallback: "{{LIBRARIAN_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/librarian.md"
    controls_subagents:
      - oracle
      - explore
      - artifact_searcher
      - codebase_locator

  writer:
    name: "Writer"
    role: "Documentation"
    layer: 4
    type: "PRIMARY+SUB"
    trigger: "@writer"
    description: "Writes documentation, README, guides"
    model: "{{WRITER_MODEL}}"
    fallback: "{{WRITER_FALLBACK}}"
    skills:
      - documentation-jsdoc-md
      - git-conventional-commits
    prompt_file: "prompts/agents/writer.md"

# ==============================================================================
# SUB-AGENTS (11) - Auto-delegated by Primary agents
# ==============================================================================
sub_agents:

  # Layer 3 Sub-Agents
  frontend_ui_ux:
    name: "Frontend-UI-UX"
    role: "UI/UX Specialist"
    layer: 3
    type: "SUB"
    parent: "developer"
    description: "UI/UX design, responsive layouts, animations"
    model: "{{FRONTEND_MODEL}}"
    fallback: "{{FRONTEND_FALLBACK}}"
    skills:
      - react-best-practices-2026
      - tailwind-shadcn-mastery
      - accessibility-wcag-aa
      - responsive-mobile-first
    prompt_file: "prompts/agents/frontend_ui_ux.md"

  # Layer 4 Sub-Agents
  oracle:
    name: "Oracle"
    role: "Deep Research"
    layer: 4
    type: "SUB"
    parent: "librarian"
    description: "Deep research, complex problem solving"
    model: "{{ORACLE_MODEL}}"
    fallback: "{{ORACLE_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/oracle.md"

  explore:
    name: "Explore"
    role: "Codebase Navigator"
    layer: 4
    type: "SUB"
    parent: "librarian"
    description: "Navigates codebase, finds files, understands structure"
    model: "{{EXPLORE_MODEL}}"
    fallback: "{{EXPLORE_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/explore.md"

  multimodal_looker:
    name: "Multimodal-Looker"
    role: "Visual Analysis"
    layer: 4
    type: "SUB"
    parent: "developer"
    description: "Analyzes images, screenshots, visual content"
    model: "{{LOOKER_MODEL}}"
    fallback: "{{LOOKER_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/multimodal_looker.md"

  # Layer 5 Sub-Agents (READ-ONLY)
  codebase_locator:
    name: "Codebase-Locator"
    role: "File Finder"
    layer: 5
    type: "SUB"
    parent: "librarian"
    mode: "READ-ONLY"
    description: "Finds files, functions, classes in codebase"
    model: "{{LOCATOR_MODEL}}"
    fallback: "{{LOCATOR_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/codebase_locator.md"

  codebase_analyzer:
    name: "Codebase-Analyzer"
    role: "Code Analysis"
    layer: 5
    type: "SUB"
    parent: "architect"
    mode: "READ-ONLY"
    description: "Analyzes code structure, dependencies, patterns"
    model: "{{ANALYZER_MODEL}}"
    fallback: "{{ANALYZER_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/codebase_analyzer.md"

  pattern_finder:
    name: "Pattern-Finder"
    role: "Pattern Detection"
    layer: 5
    type: "SUB"
    parent: "audit"
    mode: "READ-ONLY"
    description: "Finds patterns, anti-patterns, refactoring opportunities"
    model: "{{PATTERN_MODEL}}"
    fallback: "{{PATTERN_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/pattern_finder.md"

  # Layer 6 Sub-Agents
  ledger_creator:
    name: "Ledger-Creator"
    role: "Session State"
    layer: 6
    type: "SUB"
    parent: "orchestrator"
    mode: "background"
    description: "Tracks session state, creates ledgers, maintains context"
    model: "{{LEDGER_MODEL}}"
    fallback: "{{LEDGER_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/ledger_creator.md"

  artifact_searcher:
    name: "Artifact-Searcher"
    role: "Artifact Search"
    layer: 6
    type: "SUB"
    parent: "librarian"
    description: "Searches artifacts, previous work, context retrieval"
    model: "{{ARTIFACT_MODEL}}"
    fallback: "{{ARTIFACT_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/artifact_searcher.md"

  # Layer 7 Sub-Agents
  metis:
    name: "Metis"
    role: "Pre-Planning"
    layer: 7
    type: "SUB"
    parent: "orchestrator"
    description: "Task decomposition, dependency analysis, pre-planning"
    model: "{{METIS_MODEL}}"
    fallback: "{{METIS_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/metis.md"

  momus:
    name: "Momus"
    role: "Plan Review"
    layer: 7
    type: "SUB"
    parent: "orchestrator"
    description: "Plan critique, weakness identification, quality gate"
    model: "{{MOMUS_MODEL}}"
    fallback: "{{MOMUS_FALLBACK}}"
    skills: []
    prompt_file: "prompts/agents/momus.md"

# ==============================================================================
# DEACTIVATED AGENTS (Merged into others)
# ==============================================================================
deactivated:
  - sisyphus  # Merged into Orchestrator

# ==============================================================================
# WORKFLOWS
# ==============================================================================
workflows:
  ralph_loop:
    description: "3-Phase Autopilot: Design → Implement → Verify"
    phases:
      - agent: architect
        name: "Design"
        output: "implementation_plan.md"
      - agent: developer
        name: "Implement"
        output: "code changes"
      - agent: audit
        name: "Verify"
        output: "audit_report.md"

# ==============================================================================
# OLLAMA CONFIGURATION (Optional Enhancer)
# ==============================================================================
ollama:
  enabled: {{USE_OLLAMA}}
  direct_answer: {{OLLAMA_DIRECT_ANSWER}}
  models:
    primary: "{{OLLAMA_PRIMARY}}"
    fallback: "{{OLLAMA_FALLBACK}}"
    lightweight: "{{OLLAMA_LIGHT}}"
  features:
    - prompt_optimization
    - tts_preprocessing
    - direct_answering
    - privacy_layer

# ==============================================================================
# HARDWARE PROFILE
# ==============================================================================
hardware:
  profile: "{{HARDWARE_PROFILE}}"
  tts_model: "{{TTS_MODEL}}"
